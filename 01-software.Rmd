# Software {#software}

When developing R code which may be shared or executed by another person it is important to 
ensure everyone is using the same versions of software and packages.


## Core R Applications

The minimum software required to write R code is the R application itself. However, it is 
better to use a separate editor for creating R scripts. The recommended software installtion 
is:

 - [Microsoft R Open](https://mran.microsoft.com/open/), which is 100% compatible with the
   standard version of R and provides better performance in some cases. Like the standard 
   version of R, Microsoft's version is free.
 - [RStudio Desktop](https://www.rstudio.com/products/rstudio/download/), to edit R script 
   and build projects. RStudio can also be used for free.
 - [RTools](https://cran.r-project.org/bin/windows/Rtools/), which is required to build R
   packages. RTools is free to download.

RStudio provides a cheatsheet detailing commonly used functionality of its editor:

```{r rstudio-cheatsheet, echo=FALSE, fig.align='center', fig.cap='RStudio Cheat Sheet', out.width='80%'}
knitr::include_graphics("images/rstudio-ide.png")
# https://github.com/rstudio/cheatsheets/raw/master/rstudio-ide.pdf
```


## Supporting Software

In addition to the above, when writing R code of high complexity or criticality it is
recommended that version control is used:

 - [Git](http://gitforwindows.org/) is the market leader and integrates well with RStudio.
   Git is free
 - [GitKraken](https://www.gitkraken.com/) provides a very good graphical interface to 
   Git and access to more features than RStudio. GitKraken is not free, but it does not cost
   very much.


## Package Versions

A common problem with R is ensuring everyone is using the same version of packages. The 
are a number of ways to deal with this problem:


 1. Another approach is to create a site library, a location on a network drive where 
    everyone has access to. The default library location can then be set to this location so
    everyone uses the same packages.
    
    The disadvantage of this approach is that if someone updates a packages it is updated 
    for everyone.
    
 1. The simplest is to use the 
    [checkpoint](https://mran.microsoft.com/documents/rro/reproducibility) in Microsoft's R. 
    When installing Microsoft R Open a date is set and when packages are installed they are
    taken from a snapshot of the CRAN repository on that date. That way everyone using the 
    same version of Microsoft R Open is guaranteed to be using the same version of packages.
    
    The disadvantage of this approach is you cannot use the latest features of a package 
    unless the date is brought forward.
    
    1 and 2 can be combined to avoid installing packages for every user.
 
 1. Packrat
 
 1. Use Microsoft's [`checkpoint`](https://mran.microsoft.com/documents/rro/reproducibility)
    package to set the date for a piece of work. If a newer version of a package is required 
    it can be set in the script and it will be downloaded for that bit of work only.
    
    The disadvantage of this approach is the required packages are downloaded separately 
    for each project, so should only be used for exceptional cases.
